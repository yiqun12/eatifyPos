<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title> Restaurant reservation system</title>
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>
  <link rel='stylesheet' href='https://cdn.rawgit.com/leongersen/noUiSlider/master/distribute/nouislider.min.css'>
  <link rel="stylesheet" href="./style.css">
  <style>
    .canvas-container {
      margin-right: auto;
      margin-left: auto;
    }
  </style>
    <style>

#untitled {
  font-size: 1.1em;
  color: grey;
  font-weight: 400;
  margin-left: 5px;
  margin-top: -6px;
  position: absolute;
  padding: 0 3px 0;
}

#untitled:hover {
  background-color: #eee;
}

li {
  display: inline;
  position: relative;
  margin: 0px;
  top: 22px;
  font-size: 0.85em;
  z-index: 2;
  padding: 3px 5px;
  border-radius: 0.15em;
}

li:hover {
  background-color: #eee;
}
    </style>
  <style>
    .col-sm-2.col-sm-offset-3.form-group {
      display: none;
    }
  </style>
</head>

<body onload="loadingFunction(); ">
  <!-- partial:index.partial.html -->

  <div class="container-fluid text-center">
    <h1>Dining Room Layout</h1>
    <p class="text-muted">View and modify the table status for customer <a href="https://refreshless.com/nouislider/"
        target="_blank"></a> </p>
    <div class="form-group admin-menu" style="display: none;">
      <div class="row">
        <div class="col-sm-2 col-sm-offset-3 form-group">
          <label>Width (px)</label>
          <input type="number" id="width" class="form-control" value="500" />
        </div>
        <div class="col-sm-2 col-sm-offset-3 form-group">
          <label>Height (px)</label>
          <input type="number" id="height" class="form-control" value="812" />
        </div>
      </div>
      <div style="text-align: left;">
        <ul id="mainMenu" style="padding: 0px; margin-left: 5px;">
          <li><button class="btn btn-primary" onclick="loadBoard()">refresh</button></li>
          <li><button class="btn btn-primary" onclick="saveBoard()">Save</button></li>
          <li><button class="btn btn-danger" onclick="clearBoard()">clear</button></li>
          <li><button class="btn btn-warning customer-mode">finish</button></li>
        </ul>
      
        <ul id="mainMenu" style="font-size:16px;padding: 0px; margin-left: 5px;">
          <li class="rectangle">+ &#9647; Table</li>
          <li class="circle">+ &#9711; Table</li>
          <li class="triangle">+ &#9651; Table</li>
          <li class="chair">+ Chair</li>
          <li class="bar">+ Bar</li>
          <li class="wall">+ Wall</li>
          <li class="remove">x Remove</li>
        </ul>
      </div>
      
    
      <div class="col-sm-2 form-group" style="margin-bottom: 0px;margin-top:-12px;background:#f9fbfd;
      display: flex;justify-content: center; align-items: center; width: 100%; height: 30px;">
        
        
        
      </div>


    </div>

    <div class="form-group customer-menu">
      <div class="btn-group">
        <button class="btn btn-warning admin-mode">Admin mode</button>
      </div>
      <br />
      <br />
      <div id="slider"></div>
      <div id="slider-value"></div>
    </div>

    <canvas id="canvas" width="500" height="812"></canvas>
  </div>

  <div class="modal fade" id="modal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-body text-center">
          <p id="modal-table-id"></p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">OK</button>
        </div>
      </div>
    </div>
  </div>
  <!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.7.11/fabric.min.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js'></script>
  <script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js'></script>
  <script src='https://cdn.rawgit.com/leongersen/noUiSlider/master/distribute/nouislider.min.js'></script>
  <script>

    let canvas
    let tableNumber = 1
    let chairNumber = 1
    let barNumber = 1
    let wallNumber = 1
    const grid = 30
    const backgroundColor = '#f8f8f8'
    const lineStroke = '#ebebeb'
    const tableFill = 'rgba(150, 111, 51, 0.7)'
    const tableStroke = '#694d23'
    const tableShadow = 'rgba(0, 0, 0, 0.4) 3px 3px 7px'
    const chairFill = 'rgba(67, 42, 4, 0.7)'
    const chairStroke = '#32230b'
    const chairShadow = 'rgba(0, 0, 0, 0.4) 3px 3px 7px'
    const barFill = 'rgba(0, 93, 127, 0.7)'
    const barStroke = '#003e54'
    const barShadow = 'rgba(0, 0, 0, 0.4) 3px 3px 7px'
    const barText = 'Bar'
    const wallFill = 'rgba(136, 136, 136, 0.7)'
    const wallStroke = '#686868'
    const wallShadow = 'rgba(0, 0, 0, 0.4) 5px 5px 20px'

    let widthEl = document.getElementById('width')
    let heightEl = document.getElementById('height')
    let canvasEl = document.getElementById('canvas')

    let board = {
      'table': [],
      'chair': [],
      'bar': [],
      'wall': [],
    }

    let external_board = {
      'table': [],
      'chair': [],
      'bar': [],
      'wall': [],
    }

    function saveBoard() {
      console.log("save board")
      console.log(board)

      // this is where you save the board to an external js
      window.localStorage.setItem("restaurant_seat_arrangement", JSON.stringify(board));
      // external_board = board
    }

    function loadBoard() {
      console.log("load board")
      // console.log(board)
      clearBoard()

      // this is where you read external (previously saved board data and load it in)

      let arrangement = JSON.parse(window.localStorage.getItem("restaurant_seat_arrangement"))

      addDefaultObjects(arrangement)
    }

    function clearBoard() {
      console.log("clear board")
      board = {
        'table': [],
        'chair': [],
        'bar': [],
        'wall': [],
      }
      resizeCanvas()
      initCanvas()
    }

    // document.addEventListener("DOMContentLoaded", function () {
    //   console.log("hello");

    //   setTimeout(function () {
    //     var loadButton = document.querySelector('.btn-primary[onclick="loadBoard()"]');

    //     // Simulate a click on the button
    //     loadButton.click();

    //          var adminModeButton = document.querySelector('.customer-mode');
        
    //         // Simulate a click on the button
    //         adminModeButton.click(); 
    //   }, 1); // 0.5 second delay
    // });


    function loadingFunction() {
      resizeCanvas()
      initCanvas()
      addDefaultObjects()

    }

    function initCanvas() {
      if (canvas) {
        canvas.clear()
        canvas.dispose()
      }

      canvas = new fabric.Canvas('canvas')
      tableNumber = 1
      chairNumber = 1
      barNumber = 1
      wallNumber = 1
      canvas.backgroundColor = backgroundColor

      for (let i = 0; i < (canvas.height / grid); i++) {
        const lineX = new fabric.Line([0, i * grid, canvas.height, i * grid], {
          stroke: lineStroke,
          selectable: false,
          type: 'line'
        })
        const lineY = new fabric.Line([i * grid, 0, i * grid, canvas.height], {
          stroke: lineStroke,
          selectable: false,
          type: 'line'
        })
        sendLinesToBack()
        canvas.add(lineX)
        canvas.add(lineY)
      }

      canvas.on('object:moving', function (e) {
        snapToGrid(e.target)
      })

      canvas.on('object:scaling', function (e) {
        if (e.target.scaleX > 5) {
          e.target.scaleX = 5
        }
        if (e.target.scaleY > 5) {
          e.target.scaleY = 5
        }
        if (!e.target.strokeWidthUnscaled && e.target.strokeWidth) {
          e.target.strokeWidthUnscaled = e.target.strokeWidth
        }
        if (e.target.strokeWidthUnscaled) {
          e.target.strokeWidth = e.target.strokeWidthUnscaled / e.target.scaleX
          if (e.target.strokeWidth === e.target.strokeWidthUnscaled) {
            e.target.strokeWidth = e.target.strokeWidthUnscaled / e.target.scaleY
          }
        }
      })

      canvas.on('object:modified', function (e) {
        e.target.scaleX = e.target.scaleX >= 0.25 ? (Math.round(e.target.scaleX * 2) / 2) : 0.5
        e.target.scaleY = e.target.scaleY >= 0.25 ? (Math.round(e.target.scaleY * 2) / 2) : 0.5

        snapToGrid(e.target)
        if (e.target.type === 'table') {
          canvas.bringToFront(e.target)
        }
        else {
          canvas.sendToBack(e.target)
        }
        sendLinesToBack()
      })

      canvas.observe('object:moving', function (e) {
        checkBoudningBox(e)
      })
      canvas.observe('object:rotating', function (e) {
        checkBoudningBox(e)
      })
      canvas.observe('object:scaling', function (e) {
        checkBoudningBox(e)
      })
    }
    initCanvas()

    function resizeCanvas() {
      widthEl = document.getElementById('width')
      heightEl = document.getElementById('height')
      canvasEl.width = widthEl.value ? widthEl.value : 500
      canvasEl.height = heightEl.value ? heightEl.value : 812
      const canvasContainerEl = document.querySelectorAll('.canvas-container')[0]
      canvasContainerEl.style.width = canvasEl.width
      canvasContainerEl.style.height = canvasEl.height
    }
    resizeCanvas()


    widthEl.addEventListener('change', () => {
      resizeCanvas()
      initCanvas()
      addDefaultObjects()
    })
    heightEl.addEventListener('change', () => {
      resizeCanvas()
      initCanvas()
      addDefaultObjects()
    })

    function generateId() {
      return Math.random().toString(36).substr(2, 8)
    }

    // added default parameters for scaleX and scaleY, so if no values are given for those, it'll default to 1
    function addRect(left, top, width, height, scaleX = 1, scaleY = 1) {
      const id = generateId()
      const o = new fabric.Rect({
        width: width,
        height: height,
        fill: tableFill,
        stroke: tableStroke,
        strokeWidth: 2,
        shadow: tableShadow,
        originX: 'center',
        originY: 'center',
        centeredRotation: true,
        snapAngle: 45,
        selectable: true,
      })
      const t = new fabric.IText(tableNumber.toString(), {
        fontFamily: 'Calibri',
        fontSize: 14,
        fill: '#fff',
        textAlign: 'center',
        originX: 'center',
        originY: 'center'
      })
      const g = new fabric.Group([o, t], {
        left: left,
        top: top,
        centeredRotation: true,
        snapAngle: 45,
        selectable: true,
        type: 'rect',
        id: id,
        number: tableNumber,
        scaleX: scaleX,
        scaleY: scaleY
      })
      // this on() triggers when the table is selected
      g.on("selected", function () {
        // this.number returns the number, this returns the whole item
        console.log("This is table ", this.number);
        const selectedNumber = this.number;
        window.parent.postMessage(selectedNumber, "*");
      })
      canvas.add(g)
      object = {
        type: "rect",
        left: g.left,
        top: g.top,
        width: g.width,
        height: g.height,
        scaleX: g.scaleX,
        scaleY: g.scaleY
      }
      board.table.push(object)
      console.log(object)
      // console.log(board)
      tableNumber++
      return g
    }

    function addCircle(left, top, radius, scaleX = 1, scaleY = 1) {
      const id = generateId()
      const o = new fabric.Circle({
        radius: radius,
        fill: tableFill,
        stroke: tableStroke,
        strokeWidth: 2,
        shadow: tableShadow,
        originX: 'center',
        originY: 'center',
        centeredRotation: true
      })
      const t = new fabric.IText(tableNumber.toString(), {
        fontFamily: 'Calibri',
        fontSize: 14,
        fill: '#fff',
        textAlign: 'center',
        originX: 'center',
        originY: 'center'
      })
      const g = new fabric.Group([o, t], {
        left: left,
        top: top,
        centeredRotation: true,
        snapAngle: 45,
        selectable: true,
        type: 'circle',
        id: id,
        number: tableNumber,
        scaleX: scaleX,
        scaleY: scaleY,
        radius: radius
      })
      // this on() triggers when the table is selected
      g.on("selected", function () {
        // this.number returns the number, this returns the whole item
        console.log("This is table ", this.number);
        const selectedNumber = this.number;
        window.parent.postMessage(selectedNumber, "*");
      })

      canvas.add(g)
      object = {
        type: "circle",
        left: g.left,
        top: g.top,
        radius: g.radius,
        scaleX: g.scaleX,
        scaleY: g.scaleY
      }
      board.table.push(object)
      console.log(board)

      tableNumber++
      return g
    }

    function addTriangle(left, top, radius, scaleX = 1, scaleY = 1) {
      const id = generateId()
      const o = new fabric.Triangle({
        radius: radius,
        fill: tableFill,
        stroke: tableStroke,
        strokeWidth: 2,
        shadow: tableShadow,
        originX: 'center',
        originY: 'center',
        centeredRotation: true
      })
      const t = new fabric.IText(tableNumber.toString(), {
        fontFamily: 'Calibri',
        fontSize: 14,
        fill: '#fff',
        textAlign: 'center',
        originX: 'center',
        originY: 'center'
      })
      const g = new fabric.Group([o, t], {
        left: left,
        top: top,
        centeredRotation: true,
        snapAngle: 45,
        selectable: true,
        type: 'triangle',
        id: id,
        number: tableNumber,
        scaleX: scaleX,
        scaleY: scaleY,
        radius: radius

      })
      // this on() triggers when the table is selected
      g.on("selected", function () {
        // this.number returns the number, this returns the whole item
        console.log("This is table ", this.number);
        const selectedNumber = this.number;
        window.parent.postMessage(selectedNumber, "*");
      })
      canvas.add(g)
      object = {
        type: "triangle",
        left: g.left,
        top: g.top,
        radius: g.radius,
        scaleX: g.scaleX,
        scaleY: g.scaleY
      }
      board.table.push(object)
      console.log(board)
      tableNumber++
      return g
    }


    function addChair(left, top, scaleX = 1, scaleY = 1) {
  fabric.Image.fromURL('./table1.png', function(o) {
    o.set({
      left: left,
      top: top,
      width: 130,
      height: 130,
      originX: 'left',
      originY: 'top',
      centeredRotation: true,
      snapAngle: 45,
      selectable: true,
      type: 'chair',
      id: generateId(),
      number: chairNumber,
      scaleX: scaleX,
      scaleY: scaleY
    });
    
    // add text object for chair number
    var text = new fabric.Text((chairNumber).toString(), {
      fontSize: 50,
      fontFamily: 'Arial',
      textAlign: 'center',
      originX: 'center',
      originY: 'center',
      top: o.top + o.height * o.scaleY / 2,
      left: o.left + o.width * o.scaleX / 2,
      fill: 'blue', // set fill to white
      selectable: false
    });
    
    var group = new fabric.Group([o, text], {
      selectable: true
    });
    
    canvas.add(group);
    object = {
      left: o.left,
      top: o.top,
      width: o.width,
      height: o.height,
      scaleX: o.scaleX,
      scaleY: o.scaleY
    };
    board.chair.push(object);
    console.log(group);
    chairNumber++;
    return group;
  });
}



    function addBar(left, top, width, height, scaleX = 1, scaleY = 1) {
      const o = new fabric.Rect({
        width: width,
        height: height,
        fill: barFill,
        stroke: barStroke,
        strokeWidth: 2,
        shadow: barShadow,
        originX: 'center',
        originY: 'center',
        type: 'bar',
        id: generateId()
      })
      const t = new fabric.IText(barText, {
        fontFamily: 'Calibri',
        fontSize: 14,
        fill: '#fff',
        textAlign: 'center',
        originX: 'center',
        originY: 'center'
      })
      const g = new fabric.Group([o, t], {
        left: left,
        top: top,
        centeredRotation: true,
        snapAngle: 45,
        selectable: true,
        type: 'bar',
        scaleX: scaleX,
        scaleY: scaleY,
        number: barNumber
      })
      canvas.add(g)
      object = {
        left: g.left,
        top: g.top,
        width: g.width,
        height: g.height,
        scaleX: g.scaleX,
        scaleY: g.scaleY
      }
      board.bar.push(object)
      console.log(board)
      barNumber++
      return g
    }


    function addWall(left, top, width, height, scaleX = 1, scaleY = 1) {
      const o = new fabric.Rect({
        left: left,
        top: top,
        width: width,
        height: height,
        fill: wallFill,
        stroke: wallStroke,
        strokeWidth: 2,
        shadow: wallShadow,
        originX: 'left',
        originY: 'top',
        centeredRotation: true,
        snapAngle: 45,
        selectable: true,
        type: 'wall',
        id: generateId(),
        number: wallNumber,
        scaleX: scaleX,
        scaleY: scaleY
      })
      canvas.add(o)
      object = {
        left: o.left,
        top: o.top,
        width: o.width,
        height: o.height,
        scaleX: o.scaleX,
        scaleY: o.scaleY
      }
      board.wall.push(object)
      console.log(board)
      wallNumber++
      return o
    }

    function snapToGrid(target) {
      target.set({
        left: Math.round(target.left / (grid / 2)) * grid / 2,
        top: Math.round(target.top / (grid / 2)) * grid / 2
      })

      // update the position of the piece on board
      console.log("left", target.left)
      console.log("top", target.top)
      // console.log("width", target.width)
      // console.log("height", target.height)
      // console.log("number", target.number)
      console.log(target)

      // console.log(target.width)
      // if the object is a rect
      if (target.type == 'rect') {
        // grab the number (the number - 1 is the index in table list)
        let index = target.number - 1
        board.table[index].left = target.left
        board.table[index].top = target.top
        board.table[index].width = target.width
        board.table[index].height = target.height
        board.table[index].scaleX = target.scaleX
        board.table[index].scaleY = target.scaleY
      }
      else if (target.type == 'circle' || target.type == 'triangle') {
        // grab the number (the number - 1 is the index in table list)
        let index = target.number - 1
        board.table[index].left = target.left
        board.table[index].top = target.top
        board.table[index].radius = target.radius
        board.table[index].scaleX = target.scaleX
        board.table[index].scaleY = target.scaleY
      }
      else if (target.type == 'chair') {
        // grab the number (the number - 1 is the index in table list)
        let index = target.number - 1
        console.log(board.chair)
        console.log(board.chair)
        board.chair[index].left = target.left
        board.chair[index].top = target.top
        board.chair[index].scaleX = target.scaleX
        board.chair[index].scaleY = target.scaleY
      }
      else if (target.type == 'bar') {
        // grab the number (the number - 1 is the index in table list)
        let index = target.number - 1
        console.log(target.number)
        board.bar[index].left = target.left
        board.bar[index].top = target.top
        board.bar[index].width = target.width
        board.bar[index].height = target.height
        board.bar[index].scaleX = target.scaleX
        board.bar[index].scaleY = target.scaleY
      }
      else if (target.type == 'wall') {
        // grab the number (the number - 1 is the index in table list)
        let index = target.number - 1
        board.wall[index].left = target.left
        board.wall[index].top = target.top
        board.wall[index].width = target.width
        board.wall[index].height = target.height
        board.wall[index].scaleX = target.scaleX
        board.wall[index].scaleY = target.scaleY
      }

    }

    function checkBoudningBox(e) {
      const obj = e.target

      if (!obj) {
        return
      }
      obj.setCoords()

      const objBoundingBox = obj.getBoundingRect()
      if (objBoundingBox.top < 0) {
        obj.set('top', 0)
        obj.setCoords()
      }
      if (objBoundingBox.left > canvas.width - objBoundingBox.width) {
        obj.set('left', canvas.width - objBoundingBox.width)
        obj.setCoords()
      }
      if (objBoundingBox.top > canvas.height - objBoundingBox.height) {
        obj.set('top', canvas.height - objBoundingBox.height)
        obj.setCoords()
      }
      if (objBoundingBox.left < 0) {
        obj.set('left', 0)
        obj.setCoords()
      }
    }

    function sendLinesToBack() {
      canvas.getObjects().map(o => {
        if (o.type === 'line') {
          canvas.sendToBack(o)
        }
      })
    }

    document.querySelectorAll('.rectangle')[0].addEventListener('click', function () {
      const o = addRect(0, 0, 60, 60, 1, 1)
      canvas.setActiveObject(o)
    })

    document.querySelectorAll('.circle')[0].addEventListener('click', function () {
      const o = addCircle(0, 0, 30, 1, 1)
      canvas.setActiveObject(o)
    })

    document.querySelectorAll('.triangle')[0].addEventListener('click', function () {
      const o = addTriangle(0, 0, 30, 1, 1)
      canvas.setActiveObject(o)
    })

    document.querySelectorAll('.chair')[0].addEventListener('click', function () {
      const o = addChair(0, 0, 1, 1)
      canvas.setActiveObject(o)
    })

    document.querySelectorAll('.bar')[0].addEventListener('click', function () {
      const o = addBar(0, 0, 180, 60, 1, 1)
      canvas.setActiveObject(o)
    })

    document.querySelectorAll('.wall')[0].addEventListener('click', function () {
      const o = addWall(0, 0, 60, 180, 1, 1)
      canvas.setActiveObject(o)
    })

    document.querySelectorAll('.remove')[0].addEventListener('click', function () {
      const o = canvas.getActiveObject()
      if (o) {
        o.remove()
        canvas.remove(o)
        canvas.discardActiveObject()
        canvas.renderAll()
      }
    })

    document.querySelectorAll('.customer-mode')[0].addEventListener('click', function () {
      canvas.getObjects().map(o => {
        o.hasControls = false
        o.lockMovementX = true
        o.lockMovementY = true
        if (o.type === 'chair' || o.type === 'bar' || o.type === 'wall') {
          o.selectable = false
        }
        o.borderColor = '#38A62E'
        o.borderScaleFactor = 2.5
      })
      canvas.selection = false
      canvas.hoverCursor = 'pointer'
      canvas.discardActiveObject()
      canvas.renderAll()
      document.querySelectorAll('.admin-menu')[0].style.display = 'none'
      document.querySelectorAll('.customer-menu')[0].style.display = 'block'
    })

    document.querySelectorAll('.admin-mode')[0].addEventListener('click', function () {
      canvas.getObjects().map(o => {
        o.hasControls = true
        o.lockMovementX = false
        o.lockMovementY = false
        if (o.type === 'chair' || o.type === 'bar' || o.type === 'wall') {
          o.selectable = true
        }
        o.borderColor = 'rgba(102, 153, 255, 0.75)'
        o.borderScaleFactor = 1
      })
      canvas.selection = true
      canvas.hoverCursor = 'move'
      canvas.discardActiveObject()
      canvas.renderAll()
      document.querySelectorAll('.admin-menu')[0].style.display = 'block'
      document.querySelectorAll('.customer-menu')[0].style.display = 'none'
    })

    function formatTime(val) {
      const hours = Math.floor(val / 60)
      const minutes = val % 60
      const englishHours = hours > 12 ? hours - 12 : hours

      const normal = hours + ':' + minutes + (minutes === 0 ? '0' : '')
      const english = englishHours + ':' + minutes + (minutes === 0 ? '0' : '') + ' ' + (hours > 12 ? 'PM' : 'AM')

      return normal + ' (' + english + ')'
    }

    document.querySelectorAll('.submit')[0].addEventListener('click', function () {
      const obj = canvas.getActiveObject()
      $('#modal').modal('show')
      let modalText = 'You have not selected anything'
      if (obj) {
        modalText = 'You have selected table ' + obj.number + ', time: ' + formatTime(slider.noUiSlider.get())
      }
      document.querySelectorAll('#modal-table-id')[0].innerHTML = modalText
    })

    const slider = document.getElementById('slider')
    noUiSlider.create(slider, {
      start: 1200,
      step: 15,
      connect: 'lower',
      range: {
        min: 0,
        max: 1425
      }
    })

    const sliderValue = document.getElementById('slider-value')
    slider.noUiSlider.on('update', function (values, handle) {
      sliderValue.innerHTML = formatTime(values[handle])
    })

    // //
    // let board = {
    //   'table': [],
    //   'chair': [],
    //   'bar': [],
    //   'wall' : [],
    // }
    // //
    function addDefaultObjects(board) {

      tables = board.table
      // console.log(tables)

      tables.forEach(element => {
        if (element.type == 'rect') {
          addRect(element.left, element.top, element.width, element.height, element.scaleX, element.scaleY)
        } else if (element.type == 'triangle') {
          addTriangle(element.left, element.top, element.radius, element.scaleX, element.scaleY)
        } else if (element.type == 'circle') {
          addCircle(element.left, element.top, element.radius, element.scaleX, element.scaleY)
        }
      });

      // getting the chairs category from baord and adding all the chairs to canvas
      chairs = board.chair
      chairs.forEach(element => {
        addChair(element.left, element.top, element.scaleX, element.scaleY)
      })

      // getting the bars category from board and adding all the bars to canvas
      bars = board.bar
      bars.forEach(element => {
        addBar(element.left, element.top, element.width, element.height, element.scaleX, element.scaleY)
      })

      // getting the walls category from board and adding all the walls to canvas
      walls = board.wall
      walls.forEach(element => {
        addWall(element.left, element.top, element.width, element.height, element.scaleX, element.scaleY)
      })
    }
    addDefaultObjects()
  </script>

</body>

</html>